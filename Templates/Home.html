<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>House price predictor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body style="background: url(https://wallpaperaccess.com/full/1218873.jpg) ;
  background-repeat:no-repeat;
  background-size: cover;">


    <div class="main" style="width:300px; margin:10px auto 0px auto;
    width:30%; font-size: 18px; border-radius: 10px; border:1px soid rgba(255,255,255,0.3);
    box-shadow: 2px 2px 15px rgba(0,0,0,0.3); color:black;">
      
            <h1 class="title" style="text-align: center;
                    padding: 20px;
                    font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;">Welcome to Kolhapur House Price Predictor</h1>
                    <h2 style="text-align: center;"><u>Details About House</u></h2>
                <div class="house">
                    <form method="POST"  style=" margin:20px;" accept="utf-8">
                        <div class="row">
                            <div  style="text-align:center">
                            <label style="font-family: sans-serif; font-size: 18px; font-style: italic;"><strong>Select the Location:</strong></label>
                            
                            <select class="selectpicker form-control" id="location" name="location" required="1">
                                {% for location in locations %}
                                    <option value="{{location}}">{{location}}</option>
                                {% endfor %}
                            </select>
                            </div>


                            <div style="text-align:center">
                                <br>
                                <label style="font-family: sans-serif; font-size: 18px; font-style: italic;"><strong>Enter  BHk:</strong></label>
                                <input type="text" class="form-control" id="bhk" name="bhk" placeholder="Enter Bhk">
                            </div>


                            <div  style="text-align:center">
                                <br>
                                <label style="font-family: sans-serif; font-size: 18px; font-style: italic;"><strong>Enter Number of Bathroom:</strong></label>
                                <input type="text" class="form-control" id="bath" name="bath" placeholder="Enter Number of Bathroom">
                            </div>


                            <div  style="text-align:center">
                                <br>
                                <label style="font-family: sans-serif; font-size: 18px; font-style: italic;"><strong>Enter Squre feet :</strong></label>
                                <input type="text" class="form-control" id="total_sqft" name="total_sqft" placeholder="Enter Squre feet">
                            </div>


                            <br>
                            <div class="col-md-12 form-group" style="text-align: center;">
                                <br>
                                <br>
                                <button class="btn btn-primary" style="text-align: center; width: 50%; color: #fff;" onclick= "send_data()" >pridict price</button>
                            </div>


                        </div>
                    </form>
                    <br>
                    <br>


                    <div class="col-md-12" style="text-align: center">
                    <h3><span id="prediction"></span></h3>
                    </div>

                </div>
                
    </div>
    <marquee behavior="alternative" direction="left" style="background-color: black; color:#fff;">
        Thank you for visiting website </marquee>


<script>
    function form_handler(event) {
        event.preventDefault(); //Don't submit the form normally
    }
    function send_data()
    {
        document.querySelector('form').addEventListener("submit",form_handler);

        var fd=new FormData(document.querySelector("form"));
        
        var xhr = new XMLHttpRequest();
        
        xhr.open('POST','/predict',true);

        document.getElementById("prediction").innerHTML = "Wait prdicting price!...";

        xhr.onreadystatechange= function(){
            if (xhr.readyState ==XMLHttpRequest.DONE){
                document.getElementById("prediction").innerHTML="prediction:" +xhr.responseText;
            }
        };
        xhr.onload = function(){};
        xhr.send(fd);
    }
        
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
  </body>
</html>